(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(e,t,a){e.exports=a(861)},236:function(e,t,a){},434:function(e,t,a){var n={"./Binary_Property/ASCII.js":435,"./Binary_Property/ASCII_Hex_Digit.js":436,"./Binary_Property/Alphabetic.js":437,"./Binary_Property/Any.js":438,"./Binary_Property/Assigned.js":439,"./Binary_Property/Bidi_Control.js":440,"./Binary_Property/Bidi_Mirrored.js":441,"./Binary_Property/Case_Ignorable.js":442,"./Binary_Property/Cased.js":443,"./Binary_Property/Changes_When_Casefolded.js":444,"./Binary_Property/Changes_When_Casemapped.js":445,"./Binary_Property/Changes_When_Lowercased.js":446,"./Binary_Property/Changes_When_NFKC_Casefolded.js":447,"./Binary_Property/Changes_When_Titlecased.js":448,"./Binary_Property/Changes_When_Uppercased.js":449,"./Binary_Property/Dash.js":450,"./Binary_Property/Default_Ignorable_Code_Point.js":451,"./Binary_Property/Deprecated.js":452,"./Binary_Property/Diacritic.js":453,"./Binary_Property/Emoji.js":454,"./Binary_Property/Emoji_Component.js":455,"./Binary_Property/Emoji_Modifier.js":456,"./Binary_Property/Emoji_Modifier_Base.js":457,"./Binary_Property/Emoji_Presentation.js":458,"./Binary_Property/Extended_Pictographic.js":459,"./Binary_Property/Extender.js":460,"./Binary_Property/Grapheme_Base.js":461,"./Binary_Property/Grapheme_Extend.js":462,"./Binary_Property/Hex_Digit.js":463,"./Binary_Property/IDS_Binary_Operator.js":464,"./Binary_Property/IDS_Trinary_Operator.js":465,"./Binary_Property/ID_Continue.js":466,"./Binary_Property/ID_Start.js":467,"./Binary_Property/Ideographic.js":468,"./Binary_Property/Join_Control.js":469,"./Binary_Property/Logical_Order_Exception.js":470,"./Binary_Property/Lowercase.js":471,"./Binary_Property/Math.js":472,"./Binary_Property/Noncharacter_Code_Point.js":473,"./Binary_Property/Pattern_Syntax.js":474,"./Binary_Property/Pattern_White_Space.js":475,"./Binary_Property/Quotation_Mark.js":476,"./Binary_Property/Radical.js":477,"./Binary_Property/Regional_Indicator.js":478,"./Binary_Property/Sentence_Terminal.js":479,"./Binary_Property/Soft_Dotted.js":480,"./Binary_Property/Terminal_Punctuation.js":481,"./Binary_Property/Unified_Ideograph.js":482,"./Binary_Property/Uppercase.js":483,"./Binary_Property/Variation_Selector.js":484,"./Binary_Property/White_Space.js":485,"./Binary_Property/XID_Continue.js":486,"./Binary_Property/XID_Start.js":487,"./General_Category/Cased_Letter.js":488,"./General_Category/Close_Punctuation.js":489,"./General_Category/Connector_Punctuation.js":490,"./General_Category/Control.js":491,"./General_Category/Currency_Symbol.js":492,"./General_Category/Dash_Punctuation.js":493,"./General_Category/Decimal_Number.js":494,"./General_Category/Enclosing_Mark.js":495,"./General_Category/Final_Punctuation.js":496,"./General_Category/Format.js":497,"./General_Category/Initial_Punctuation.js":498,"./General_Category/Letter.js":499,"./General_Category/Letter_Number.js":500,"./General_Category/Line_Separator.js":501,"./General_Category/Lowercase_Letter.js":502,"./General_Category/Mark.js":503,"./General_Category/Math_Symbol.js":504,"./General_Category/Modifier_Letter.js":505,"./General_Category/Modifier_Symbol.js":506,"./General_Category/Nonspacing_Mark.js":507,"./General_Category/Number.js":508,"./General_Category/Open_Punctuation.js":509,"./General_Category/Other.js":510,"./General_Category/Other_Letter.js":511,"./General_Category/Other_Number.js":512,"./General_Category/Other_Punctuation.js":513,"./General_Category/Other_Symbol.js":514,"./General_Category/Paragraph_Separator.js":515,"./General_Category/Private_Use.js":516,"./General_Category/Punctuation.js":517,"./General_Category/Separator.js":518,"./General_Category/Space_Separator.js":519,"./General_Category/Spacing_Mark.js":520,"./General_Category/Surrogate.js":521,"./General_Category/Symbol.js":522,"./General_Category/Titlecase_Letter.js":523,"./General_Category/Unassigned.js":524,"./General_Category/Uppercase_Letter.js":525,"./Script/Adlam.js":526,"./Script/Ahom.js":527,"./Script/Anatolian_Hieroglyphs.js":528,"./Script/Arabic.js":529,"./Script/Armenian.js":530,"./Script/Avestan.js":531,"./Script/Balinese.js":532,"./Script/Bamum.js":533,"./Script/Bassa_Vah.js":534,"./Script/Batak.js":535,"./Script/Bengali.js":536,"./Script/Bhaiksuki.js":537,"./Script/Bopomofo.js":538,"./Script/Brahmi.js":539,"./Script/Braille.js":540,"./Script/Buginese.js":541,"./Script/Buhid.js":542,"./Script/Canadian_Aboriginal.js":543,"./Script/Carian.js":544,"./Script/Caucasian_Albanian.js":545,"./Script/Chakma.js":546,"./Script/Cham.js":547,"./Script/Cherokee.js":548,"./Script/Common.js":549,"./Script/Coptic.js":550,"./Script/Cuneiform.js":551,"./Script/Cypriot.js":552,"./Script/Cyrillic.js":553,"./Script/Deseret.js":554,"./Script/Devanagari.js":555,"./Script/Dogra.js":556,"./Script/Duployan.js":557,"./Script/Egyptian_Hieroglyphs.js":558,"./Script/Elbasan.js":559,"./Script/Ethiopic.js":560,"./Script/Georgian.js":561,"./Script/Glagolitic.js":562,"./Script/Gothic.js":563,"./Script/Grantha.js":564,"./Script/Greek.js":565,"./Script/Gujarati.js":566,"./Script/Gunjala_Gondi.js":567,"./Script/Gurmukhi.js":568,"./Script/Han.js":569,"./Script/Hangul.js":570,"./Script/Hanifi_Rohingya.js":571,"./Script/Hanunoo.js":572,"./Script/Hatran.js":573,"./Script/Hebrew.js":574,"./Script/Hiragana.js":575,"./Script/Imperial_Aramaic.js":576,"./Script/Inherited.js":577,"./Script/Inscriptional_Pahlavi.js":578,"./Script/Inscriptional_Parthian.js":579,"./Script/Javanese.js":580,"./Script/Kaithi.js":581,"./Script/Kannada.js":582,"./Script/Katakana.js":583,"./Script/Kayah_Li.js":584,"./Script/Kharoshthi.js":585,"./Script/Khmer.js":586,"./Script/Khojki.js":587,"./Script/Khudawadi.js":588,"./Script/Lao.js":589,"./Script/Latin.js":590,"./Script/Lepcha.js":591,"./Script/Limbu.js":592,"./Script/Linear_A.js":593,"./Script/Linear_B.js":594,"./Script/Lisu.js":595,"./Script/Lycian.js":596,"./Script/Lydian.js":597,"./Script/Mahajani.js":598,"./Script/Makasar.js":599,"./Script/Malayalam.js":600,"./Script/Mandaic.js":601,"./Script/Manichaean.js":602,"./Script/Marchen.js":603,"./Script/Masaram_Gondi.js":604,"./Script/Medefaidrin.js":605,"./Script/Meetei_Mayek.js":606,"./Script/Mende_Kikakui.js":607,"./Script/Meroitic_Cursive.js":608,"./Script/Meroitic_Hieroglyphs.js":609,"./Script/Miao.js":610,"./Script/Modi.js":611,"./Script/Mongolian.js":612,"./Script/Mro.js":613,"./Script/Multani.js":614,"./Script/Myanmar.js":615,"./Script/Nabataean.js":616,"./Script/New_Tai_Lue.js":617,"./Script/Newa.js":618,"./Script/Nko.js":619,"./Script/Nushu.js":620,"./Script/Ogham.js":621,"./Script/Ol_Chiki.js":622,"./Script/Old_Hungarian.js":623,"./Script/Old_Italic.js":624,"./Script/Old_North_Arabian.js":625,"./Script/Old_Permic.js":626,"./Script/Old_Persian.js":627,"./Script/Old_Sogdian.js":628,"./Script/Old_South_Arabian.js":629,"./Script/Old_Turkic.js":630,"./Script/Oriya.js":631,"./Script/Osage.js":632,"./Script/Osmanya.js":633,"./Script/Pahawh_Hmong.js":634,"./Script/Palmyrene.js":635,"./Script/Pau_Cin_Hau.js":636,"./Script/Phags_Pa.js":637,"./Script/Phoenician.js":638,"./Script/Psalter_Pahlavi.js":639,"./Script/Rejang.js":640,"./Script/Runic.js":641,"./Script/Samaritan.js":642,"./Script/Saurashtra.js":643,"./Script/Sharada.js":644,"./Script/Shavian.js":645,"./Script/Siddham.js":646,"./Script/SignWriting.js":647,"./Script/Sinhala.js":648,"./Script/Sogdian.js":649,"./Script/Sora_Sompeng.js":650,"./Script/Soyombo.js":651,"./Script/Sundanese.js":652,"./Script/Syloti_Nagri.js":653,"./Script/Syriac.js":654,"./Script/Tagalog.js":655,"./Script/Tagbanwa.js":656,"./Script/Tai_Le.js":657,"./Script/Tai_Tham.js":658,"./Script/Tai_Viet.js":659,"./Script/Takri.js":660,"./Script/Tamil.js":661,"./Script/Tangut.js":662,"./Script/Telugu.js":663,"./Script/Thaana.js":664,"./Script/Thai.js":665,"./Script/Tibetan.js":666,"./Script/Tifinagh.js":667,"./Script/Tirhuta.js":668,"./Script/Ugaritic.js":669,"./Script/Vai.js":670,"./Script/Warang_Citi.js":671,"./Script/Yi.js":672,"./Script/Zanabazar_Square.js":673,"./Script_Extensions/Adlam.js":674,"./Script_Extensions/Ahom.js":675,"./Script_Extensions/Anatolian_Hieroglyphs.js":676,"./Script_Extensions/Arabic.js":677,"./Script_Extensions/Armenian.js":678,"./Script_Extensions/Avestan.js":679,"./Script_Extensions/Balinese.js":680,"./Script_Extensions/Bamum.js":681,"./Script_Extensions/Bassa_Vah.js":682,"./Script_Extensions/Batak.js":683,"./Script_Extensions/Bengali.js":684,"./Script_Extensions/Bhaiksuki.js":685,"./Script_Extensions/Bopomofo.js":686,"./Script_Extensions/Brahmi.js":687,"./Script_Extensions/Braille.js":688,"./Script_Extensions/Buginese.js":689,"./Script_Extensions/Buhid.js":690,"./Script_Extensions/Canadian_Aboriginal.js":691,"./Script_Extensions/Carian.js":692,"./Script_Extensions/Caucasian_Albanian.js":693,"./Script_Extensions/Chakma.js":694,"./Script_Extensions/Cham.js":695,"./Script_Extensions/Cherokee.js":696,"./Script_Extensions/Common.js":697,"./Script_Extensions/Coptic.js":698,"./Script_Extensions/Cuneiform.js":699,"./Script_Extensions/Cypriot.js":700,"./Script_Extensions/Cyrillic.js":701,"./Script_Extensions/Deseret.js":702,"./Script_Extensions/Devanagari.js":703,"./Script_Extensions/Dogra.js":704,"./Script_Extensions/Duployan.js":705,"./Script_Extensions/Egyptian_Hieroglyphs.js":706,"./Script_Extensions/Elbasan.js":707,"./Script_Extensions/Ethiopic.js":708,"./Script_Extensions/Georgian.js":709,"./Script_Extensions/Glagolitic.js":710,"./Script_Extensions/Gothic.js":711,"./Script_Extensions/Grantha.js":712,"./Script_Extensions/Greek.js":713,"./Script_Extensions/Gujarati.js":714,"./Script_Extensions/Gunjala_Gondi.js":715,"./Script_Extensions/Gurmukhi.js":716,"./Script_Extensions/Han.js":717,"./Script_Extensions/Hangul.js":718,"./Script_Extensions/Hanifi_Rohingya.js":719,"./Script_Extensions/Hanunoo.js":720,"./Script_Extensions/Hatran.js":721,"./Script_Extensions/Hebrew.js":722,"./Script_Extensions/Hiragana.js":723,"./Script_Extensions/Imperial_Aramaic.js":724,"./Script_Extensions/Inherited.js":725,"./Script_Extensions/Inscriptional_Pahlavi.js":726,"./Script_Extensions/Inscriptional_Parthian.js":727,"./Script_Extensions/Javanese.js":728,"./Script_Extensions/Kaithi.js":729,"./Script_Extensions/Kannada.js":730,"./Script_Extensions/Katakana.js":731,"./Script_Extensions/Kayah_Li.js":732,"./Script_Extensions/Kharoshthi.js":733,"./Script_Extensions/Khmer.js":734,"./Script_Extensions/Khojki.js":735,"./Script_Extensions/Khudawadi.js":736,"./Script_Extensions/Lao.js":737,"./Script_Extensions/Latin.js":738,"./Script_Extensions/Lepcha.js":739,"./Script_Extensions/Limbu.js":740,"./Script_Extensions/Linear_A.js":741,"./Script_Extensions/Linear_B.js":742,"./Script_Extensions/Lisu.js":743,"./Script_Extensions/Lycian.js":744,"./Script_Extensions/Lydian.js":745,"./Script_Extensions/Mahajani.js":746,"./Script_Extensions/Makasar.js":747,"./Script_Extensions/Malayalam.js":748,"./Script_Extensions/Mandaic.js":749,"./Script_Extensions/Manichaean.js":750,"./Script_Extensions/Marchen.js":751,"./Script_Extensions/Masaram_Gondi.js":752,"./Script_Extensions/Medefaidrin.js":753,"./Script_Extensions/Meetei_Mayek.js":754,"./Script_Extensions/Mende_Kikakui.js":755,"./Script_Extensions/Meroitic_Cursive.js":756,"./Script_Extensions/Meroitic_Hieroglyphs.js":757,"./Script_Extensions/Miao.js":758,"./Script_Extensions/Modi.js":759,"./Script_Extensions/Mongolian.js":760,"./Script_Extensions/Mro.js":761,"./Script_Extensions/Multani.js":762,"./Script_Extensions/Myanmar.js":763,"./Script_Extensions/Nabataean.js":764,"./Script_Extensions/New_Tai_Lue.js":765,"./Script_Extensions/Newa.js":766,"./Script_Extensions/Nko.js":767,"./Script_Extensions/Nushu.js":768,"./Script_Extensions/Ogham.js":769,"./Script_Extensions/Ol_Chiki.js":770,"./Script_Extensions/Old_Hungarian.js":771,"./Script_Extensions/Old_Italic.js":772,"./Script_Extensions/Old_North_Arabian.js":773,"./Script_Extensions/Old_Permic.js":774,"./Script_Extensions/Old_Persian.js":775,"./Script_Extensions/Old_Sogdian.js":776,"./Script_Extensions/Old_South_Arabian.js":777,"./Script_Extensions/Old_Turkic.js":778,"./Script_Extensions/Oriya.js":779,"./Script_Extensions/Osage.js":780,"./Script_Extensions/Osmanya.js":781,"./Script_Extensions/Pahawh_Hmong.js":782,"./Script_Extensions/Palmyrene.js":783,"./Script_Extensions/Pau_Cin_Hau.js":784,"./Script_Extensions/Phags_Pa.js":785,"./Script_Extensions/Phoenician.js":786,"./Script_Extensions/Psalter_Pahlavi.js":787,"./Script_Extensions/Rejang.js":788,"./Script_Extensions/Runic.js":789,"./Script_Extensions/Samaritan.js":790,"./Script_Extensions/Saurashtra.js":791,"./Script_Extensions/Sharada.js":792,"./Script_Extensions/Shavian.js":793,"./Script_Extensions/Siddham.js":794,"./Script_Extensions/SignWriting.js":795,"./Script_Extensions/Sinhala.js":796,"./Script_Extensions/Sogdian.js":797,"./Script_Extensions/Sora_Sompeng.js":798,"./Script_Extensions/Soyombo.js":799,"./Script_Extensions/Sundanese.js":800,"./Script_Extensions/Syloti_Nagri.js":801,"./Script_Extensions/Syriac.js":802,"./Script_Extensions/Tagalog.js":803,"./Script_Extensions/Tagbanwa.js":804,"./Script_Extensions/Tai_Le.js":805,"./Script_Extensions/Tai_Tham.js":806,"./Script_Extensions/Tai_Viet.js":807,"./Script_Extensions/Takri.js":808,"./Script_Extensions/Tamil.js":809,"./Script_Extensions/Tangut.js":810,"./Script_Extensions/Telugu.js":811,"./Script_Extensions/Thaana.js":812,"./Script_Extensions/Thai.js":813,"./Script_Extensions/Tibetan.js":814,"./Script_Extensions/Tifinagh.js":815,"./Script_Extensions/Tirhuta.js":816,"./Script_Extensions/Ugaritic.js":817,"./Script_Extensions/Vai.js":818,"./Script_Extensions/Warang_Citi.js":819,"./Script_Extensions/Yi.js":820,"./Script_Extensions/Zanabazar_Square.js":821,"./index.js":822,"./unicode-version.js":823};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=434},861:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),s=a.n(i),o=a(208),l=a(209),c=a(229),p=a(210),m=a(230),u=a(211),E=a.n(u),j=a(865),_=a(878),S=a(866),h=a(877),d=a(867),y=a(879),g=a(880),x=a(868),b=a(869),f=a(870),k=a(871),C=a(872),w=a(873),P=a(874),v=a(875),B=a(876);a(236);a(238);var T=E()({primary:"white",secondary:"#1F2022",tertiary:"#03A9FC",quartenary:"#CECECE"},{primary:"Montserrat",secondary:"Helvetica"}),M=function(e){return r.a.createElement(j.a,Object.assign({size:5,caps:!0,margin:"0 0 2rem",textColor:"primary"},e))},G=function(e){return r.a.createElement(j.a,Object.assign({size:6,margin:"0 0 5rem",textColor:"primary"},e))},A=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderIntroOutro",value:function(e){return r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(j.a,{size:6,caps:!0,textColor:"primary"},"Compile-time abstraction of JavaScript mocking libraries powering a domain-specific language for interaction testing"),r.a.createElement(S.a,{margin:"2rem 0 0",textSize:"2.5rem",textColor:"primary"},"Tim Seckinger"),r.a.createElement(S.a,{margin:"0.5rem 0 0",textSize:"2rem",textColor:"primary"},r.a.createElement("img",{src:"github-logo.png",alt:"Github Logo",className:"inline"})," ","jeysal"),e)}},{key:"render",value:function(){return r.a.createElement(h.a,{transition:["slide"],transitionDuration:500,theme:T},this.renderIntroOutro(r.a.createElement(d.a,null,r.a.createElement("p",null,"Introduce speaker & topic"),r.a.createElement("p",null,"That's a lot of words in the title - we'll do this step by step."),r.a.createElement("p",null,"What is mocking?"))),r.a.createElement(_.a,null,r.a.createElement(M,{textColor:"secondary"},"Test helpers"),r.a.createElement(d.a,null,r.a.createElement("p",null,"To understand mocking, let's first look at some other, more basic helpers used in automated software testing."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Test helpers"),r.a.createElement(G,null,"Assertions"),r.a.createElement(y.a,{textSize:"3rem",lang:"js",source:"expect(1).to.equal(1);\nassert(1 === 1);"}),r.a.createElement(g.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{textSize:"1.5rem",lang:"js",source:"expect([1, 2]).to.be.an('array').that.does.not.include(3);"}))),r.a.createElement(d.a,null,r.a.createElement("p",null,"Assertions encode what is called the test oracle in literature."),r.a.createElement("p",null,"Explain"),r.a.createElement("p",null,"click"))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Test helpers"),r.a.createElement(G,null,"Stubs"),r.a.createElement(y.a,{textSize:"1.5rem",lang:"js",source:"const subtract = add => (a, b) => add(a, -b);\n\nconst addStub = (a, b) => (a === 3 && b === -2 ? 1 : 0);\n\nassert(subtract(addStub)(3, 2) === 1);"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Stubs replace components that the test subject depends on."),r.a.createElement("p",null,"A stub returns a predefined value when the test subject calls it."),r.a.createElement("p",null,"Contrived example: subtract is SUT, add is dependency"),r.a.createElement("p",null,"Explain SUT implementation"),r.a.createElement("p",null,"To test `subtract`, we pass it our `addStub` as its `add` dependency and call it with 3, 2."),r.a.createElement("p",null,"`addStub` will be called with 3, -2 and knows to return 1 for those exact parameters, despite not being a full implementation of `add`."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Test helpers"),r.a.createElement(G,null,"Mocks"),r.a.createElement(y.a,{textSize:"1.5rem",lang:"js",source:"const subtract = add => (a, b) => add(a, -b);\n\nconst addCalls = [];\nconst addMock = (a, b) => (\n  addCalls.push({ a, b }), a === 3 && b === -2 ? 1 : 0\n);\n\nassert(subtract(addMock)(3, 2) === 1);\nassert.deepStrictEqual(addCalls, [{ a: 3, b: -2 }]);"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Mocking extends stubbing by special assertions."),r.a.createElement("p",null,"We assert that the mock function is called in a certain way."),r.a.createElement("p",null,"Explain example"),r.a.createElement("p",null,"Show boilerplate"))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Test helpers"),r.a.createElement(G,null,"Mocking libraries"),r.a.createElement(y.a,{textSize:"1.5rem",lang:"js",source:'const myMock = mock(myApi).expects("method")\n                          .withArgs(42, 1337);\n\nmyApi.method(42, 1337);\n\nmyMock.verify();'}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain (particularly expects & withArgs)"),r.a.createElement("p",null,"Declaration is unintuitive - why can we not use the ordinary method call syntax of our language?"))),r.a.createElement(_.a,null,r.a.createElement(M,{textColor:"secondary"},"The Spock Framework"),r.a.createElement(d.a,null,r.a.createElement("p",null,"Look towards other tools out there - Spock Framework for the Apache Groovy Language"),r.a.createElement("p",null,"Introduces a completely different look and feel for all the aspects of testing mentioned."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"The Spock Framework"),r.a.createElement(G,null,"Assertions"),r.a.createElement(y.a,{textSize:"3rem",lang:"js",source:"expect:\n1 + 2 == 3"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain `expect` block - evaluates the expression to check whether it is truthy."),r.a.createElement("p",null,"Obviously this is not something a runtime library can do, this requires some sort of custom compilation."),r.a.createElement("p",null,"Pretty cool but not a huge win..."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"The Spock Framework"),r.a.createElement(G,null,"Stubs"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:'setup:\nsubscriber.receive("msg") >> true\n\nexpect:\npublisher.publish("msg") == true'}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain"))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"The Spock Framework"),r.a.createElement(G,null,"Mocks"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:'when:\npublisher.publish("msg")\n\nthen:\n1 * subscriber.receive("msg")'}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain"))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"The Spock Framework"),r.a.createElement(G,null,"Combined"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:'when:\ndef res = publisher.publish("msg")\n\nthen:\n1 * subscriber.receive("msg") >> true\nres == true'}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain"))),r.a.createElement(_.a,null,r.a.createElement(M,{textColor:"secondary"},"spockjs"),r.a.createElement(d.a,null,r.a.createElement("p",null,"What exactly did I build in the thesis?"),r.a.createElement("p",null,"spockjs is a tool that already implements some of the capabilities of the Spock Framework for the JavaScript ecosystem."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"spockjs"),r.a.createElement(G,null,"Assertion blocks"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:"expect: 'a' + 'b' === 'ab';\n\nexpect: {\n  'a' + 'b' === 'ab';\n  1 < 2;\n}"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"This is what spockjs can do so far"),r.a.createElement("p",null,"Look mostly similar to assertions in the Spock Framework."),r.a.createElement("p",null,"Explain"),r.a.createElement("p",null,"For the thesis, I added support for so-called 'interaction blocks' to spockjs"))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"spockjs"),r.a.createElement(G,null,"Interaction blocks"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:"mock: 1 * receive('msg') >> true;\n\nexpect: publish('msg') === true;\n\nverify: receive;"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain"),r.a.createElement("p",null,"To see how we could implement interaction blocks, let's first look at how assertion blocks are implemented."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Assertion block implementation"),r.a.createElement(G,null,"Code"),r.a.createElement(y.a,{textSize:"3rem",lang:"js",source:"expect: true;\n// ==>\nexpect: assert(true);"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"The code transformation for assertion blocks is quite simple."),r.a.createElement("p",null,"Not gonna show the code implementing the transform"),r.a.createElement("p",null,"Explain"),r.a.createElement("p",null,"There's a few more aspects to this, such as importing this assert function from somewhere, but the relevant bit is just the transformation."))),r.a.createElement(_.a,null,r.a.createElement(M,{textColor:"secondary"},"Assertion block implementation"),r.a.createElement(G,{textColor:"secondary",margin:"0 0 2rem"},"Input and ",r.a.createElement("span",{style:{color:"teal"}},"output")," AST"),r.a.createElement("img",{src:"assertion-block-ast.png",alt:"Assertion block AST",style:{height:"30rem"}}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain base structure"),r.a.createElement("p",null,"Explain CallExpression insertion"))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Interaction block parsing"),r.a.createElement(G,null,"Input code"),r.a.createElement("div",{style:{color:"teal"}},"MockInteractionDeclaration:"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:"cardinality * call;"}),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"magenta"}},"StubInteractionDeclaration:"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:"call >> returnValue;"}),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"violet"}},"CombinedInteractionDeclaration:"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:"cardinality * call >> returnValue;"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Now for interaction blocks"),r.a.createElement("p",null,"There's the interaction verification block, but that's rather simple"),r.a.createElement("p",null,"Interaction declaration blocks are the interesting part"),r.a.createElement("p",null,"Already showed an example interaction declaration"),r.a.createElement("p",null,"This is the structure of the three different kinds of interaction declarations"),r.a.createElement("p",null,"Explain"))),r.a.createElement(_.a,null,r.a.createElement(M,{textColor:"secondary"},"Interaction block parsing"),r.a.createElement(G,{textColor:"secondary",margin:"0 0 2rem"},"Input AST"),r.a.createElement("img",{src:"interaction-block-ast.png",alt:"Interaction block AST",style:{height:"30rem"}}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Explain"),r.a.createElement("p",null,"Explain CallExpression"),r.a.createElement("p",null,"We're interested in the leafs"),r.a.createElement("p",null,"Explain Parsing"))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Interaction block parsing"),r.a.createElement(G,{margin:"0 0 2rem"},"Tagged union InteractionDeclaration"),r.a.createElement(y.a,{textSize:"1.2rem",lang:"rust",source:"enum InteractionDeclaration {\n  Mock {\n    mockObject: Expression,\n    args: [Expression],\n    cardinality: Expression,\n  },\n  Stub {\n    mockObject: Expression,\n    args: [Expression],\n    returnValue: Expression,\n  },\n  Combined {\n    mockObject: Expression,\n    args: [Expression],\n    cardinality: Expression,\n    returnValue: Expression,\n  },\n}"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"This is the data structure the parser generates"),r.a.createElement("p",null,"Explain - interaction declaration is either mock or stub or combined..."),r.a.createElement("p",null,"But now what is the output code we generate for interaction declarations?"))),r.a.createElement(_.a,{bgColor:"secondary",textColor:"primary"},r.a.createElement(M,null,"Mocking library abstraction"),r.a.createElement(G,null,"Reasons"),r.a.createElement(x.a,null,r.a.createElement(b.a,{textSize:"2rem"},"simultaneously use the mocking library directly"),r.a.createElement(b.a,{textSize:"2rem"},"no need for anyone to switch their mocking library"),r.a.createElement(b.a,{textSize:"2rem"},"possible escape route to stop using spockjs")),r.a.createElement(d.a,null,r.a.createElement("p",null,'This is where the "abstraction of JS mocking libraries" from the title comes in.'),r.a.createElement("p",null,"Users should be able to use spockjs with their favorite mocking library."),r.a.createElement("p",null,"Why?"),r.a.createElement("p",null,"Distinct features of the mocking library only available with direct usage, so that should be available alongside use through spockjs."),r.a.createElement("p",null,"Better adoptability: No time-consuming library switch required to introduce spockjs."),r.a.createElement("p",null,"Explain escape hatch"))),r.a.createElement(_.a,{bgColor:"secondary",textColor:"primary"},r.a.createElement(M,null,"Mocking library abstraction"),r.a.createElement(G,null,"Options"),r.a.createElement(x.a,null,r.a.createElement(b.a,null,"Direct compilation"),r.a.createElement(b.a,null,"Runtime dispatch")),r.a.createElement(d.a,null,r.a.createElement("p",null,"There are two options to achieve support for multiple mocking libraries."),r.a.createElement("p",null,"I implemented both of those strategies for the thesis and used them to provide support for the Sinon.JS and Jest mocking libraries."),r.a.createElement("p",null,"No time to get into the implementation details, but I'll give a brief overview."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Mocking library abstraction"),r.a.createElement(G,null,"Direct compilation"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:"mock: 1 * fn();\nverify: fn;\n// ==>\nexpect(fn).withoutArgs().times(1);\nverify(fn);"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Input and output code for a fictional mocking library"),r.a.createElement("p",null,"Compiler plugin knows the API of the mocking library in use."),r.a.createElement("p",null,"Explain: Generates calls to the mocking library the same way a human would write them."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Mocking library abstraction"),r.a.createElement(G,{margin:"0 0 2rem"},"Runtime dispatch"),r.a.createElement(y.a,{textSize:"2rem",lang:"js",source:"mock: 1 * fn();\nverify: fn;\n// ==>\ninteractionRuntimeAdapter.declare({\n  kind: 'mock',\n  mockObject: fn,\n  args: [],\n  cardinality: 1,\n});\ninteractionRuntimeAdapter.verify(mock)"}),r.a.createElement(d.a,null,r.a.createElement("p",null,"Generated code looks the same regardless of mocking library in use."),r.a.createElement("p",null,"Only the interaction runtime adapter implementation is swapped out by importing it from a different module."),r.a.createElement("p",null,"The adapter receives the serialized interaction declaration as its argument and then knows how to convert that into calls to the mocking library and makes those calls internally at runtime."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Mocking library abstraction"),r.a.createElement(G,null,"Direct compilation upsides"),r.a.createElement(d.a,null,r.a.createElement("p",null,"Direct compilation is conceptually quite straightforward / no extra layer of abstraction / just a more complex version of assertion blocks"),r.a.createElement("p",null,"Can also support the aforementioned escape hatch, although this can get a bit ugly, as we will see."),r.a.createElement("p",null,"When generating the code we have full access to the AST that we can use e.g. to generate useful error messages w/ original code snippets."))),r.a.createElement(_.a,{bgColor:"secondary"},r.a.createElement(M,null,"Mocking library abstraction"),r.a.createElement(G,null,"Direct compilation problem"),r.a.createElement(g.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{textSize:"1rem",lang:"js",source:"const verify = template(`\n  // sanity check ...\n  (MOCK[${symbol}] || [])\n    .filter(({ cardinality }) => cardinality != null)\n    .forEach(({ args: expected, cardinality: expectedTimes }) => {\n      const __spockjs_actualTimes = MOCK.mock.calls.filter(actual =>\n        ${deepStrictEqual}([...actual], [...expected]),\n      ).length;\n      if (__spockjs_actualTimes !== expectedTimes) {\n        const __spockjs_args = ${prettyFormat}(expected);\n        throw new Error(\n          \\`Expected \\${expectedTimes} call(s) to mock '\\${MOCK_NAME}' \\` +\n            \\`with arguments \\${__spockjs_args}, \\` +\n            \\`but received \\${__spockjs_actualTimes} such call(s).\\`,\n        );\n      }\n    });\n`);"}))),r.a.createElement(d.a,null,r.a.createElement("p",null,"Problem is: Generating code like a human would write it sounds nice, but in practice some libraries do not provide adequate functions for spockjs mocking."),r.a.createElement("p",null,"For such libraries, we have to implement a sort of runtime that remembers invocations and compares them to the declarations when verifying.",r.a.createElement("p",null,"Runtime is generated in huge code string template without type checking or any tooling support at all (click)."),r.a.createElement("p",null,"A lot of effort - impedes our ability to easily support many libraries."),r.a.createElement("p",null,"Runtime dispatch has this code as ordinary modules in the adapter executed at runtime.")))),r.a.createElement(_.a,{bgColor:"secondary",textColor:"primary"},r.a.createElement(M,null,"Information loss"),r.a.createElement(G,null,"Tradeoff"),r.a.createElement(f.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement(P.a,{type:"bold"},"Work timing")),r.a.createElement(w.a,null,r.a.createElement(P.a,{type:"bold"},"Power")),r.a.createElement(w.a,null,r.a.createElement(P.a,{type:"bold"},"Ease")))),r.a.createElement(v.a,null,r.a.createElement(C.a,null,r.a.createElement(B.a,null,"compile time"),r.a.createElement(B.a,null,r.a.createElement("span",{style:{color:"green"}},"high")),r.a.createElement(B.a,null,r.a.createElement("span",{style:{color:"red"}},"low"))),r.a.createElement(C.a,null,r.a.createElement(B.a,null,"runtime"),r.a.createElement(B.a,null,r.a.createElement("span",{style:{color:"red"}},"low")),r.a.createElement(B.a,null,r.a.createElement("span",{style:{color:"green"}},"high"))))),r.a.createElement(d.a,null,r.a.createElement("p",null,"Fundamentally, this is a problem of information loss. During the transition from compile time to runtime, a lot of information from the AST is lost."),r.a.createElement("p",null,"Compile time: access to everything, can implement any conceivable functionality - but using the information is annoying because it's all AST transformation and code generation."),r.a.createElement("p",null,"Runtime: We have access to exactly the information we serialized in our compile step - but we can use it very easily."),r.a.createElement("p",null,"Through that serialization, we can control how much information is lost, but every extra piece of information preserved comes with more implementation effort."))),r.a.createElement(_.a,{bgColor:"secondary",textColor:"primary"},r.a.createElement(M,null,"Information loss"),r.a.createElement(G,null,"Advice"),r.a.createElement("p",null,"Do work at"," ",r.a.createElement(P.a,{type:"italic",textColor:"tertiary"},"compile time")," ","if a lot of detail about the original code is required."),r.a.createElement("p",null,"Do work at"," ",r.a.createElement(P.a,{type:"italic",textColor:"tertiary"},"runtime")," ","if only a few select pieces of information need to be extracted."),r.a.createElement(d.a,null,r.a.createElement("p",null,"As a rule of thumb for applications like spockjs:"),r.a.createElement("p",null,"If a lot of detail required, avoid having to serialize all of that by doing the work immediately at compile time."),r.a.createElement("p",null,"If just a few select pieces required (like in spockjs), serialize that data at compile time and save the complex logic of processing that data for runtime."),r.a.createElement("p",null,"In special cases, one might consider a hybrid approach where runtime dispatch is just a special case of direct compilation, which is also mentioned in the paper."))),this.renderIntroOutro())}}]),t}(r.a.Component),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(A,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/bachelor-thesis-slides",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/bachelor-thesis-slides","/service-worker.js");O?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):I(e)})}}()}},[[231,2,1]]]);
//# sourceMappingURL=main.26b4b5b8.chunk.js.map